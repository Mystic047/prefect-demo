# Prefect deployment configuration using this command : prefect deploy -n cedar7-cost-by-eq
name: chula-sql-extractions
prefect-version: 3.6.1

deployments:
  - name: cedar7-cost-by-eq
    description: Sync cost_by_eq metrics from SQL Server into cedar_dashboard
    entrypoint: flows/cedar7_cost_by_eq/flow_cedar7_cost_by_eq.py:sync_cost_by_eq
    pull:
      - prefect.deployments.steps.set_working_directory:
          directory: /app
    tags: [cedar7]
    work_pool:
      name: cedar7-pool
      work_queue_name: null
      job_variables:
        working_dir: /app

  - name: chula-person-extraction
    description: Extract Person rows from SQL Server into JSON output
    entrypoint: flows/chula_extraction/flow_chula_extract_data.py:extract_chula_data
    parameters:
      table_name: Person
      output_filename: Person.json
      limit: 1000
    pull:
      - prefect.deployments.steps.set_working_directory:
          directory: /app
    tags: [chula]
    work_pool:
      name: cedar7-pool
      work_queue_name: null
      job_variables:
        working_dir: /app
